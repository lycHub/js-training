<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>replace</title>
</head>
<body>
<!--<script>
  /*
  * replace第二个参数表示要替换的新内容
  * 有一些快捷字符可以使用，含义如下
    $& === 正则匹配到的的内容
    $`  === 匹配字符串左边的字符
    $’ === 匹配字符串右边的字符
    $1,$2,$,3,…,$n === 匹配结果中对应的分组匹配结果
  * */


  const sStr='讨论一下正则表达式中的replace的用法';

  // $& === '正则表达式'
  sStr.replace(/正则表达式/,'《$&》'); // "讨论一下《正则表达式》中的replace的用法"

  // $` === '讨论一下'
  sStr.replace(/正则表达式/,'《$`》'); // "讨论一下《讨论一下》中的replace的用法"

  // $' === '讨论一下'
  sStr.replace(/正则表达式/, "《$'》"); // "讨论一下《中的replace的用法》中的replace的用法"

  //  $1 === 正则, $2 === 表达, $3 === 式
  sStr.replace(/(正则)(.+?)(式)/,"《$1》$2<$3>"); // "讨论一下《正则》表达<式>中的replace的用法"
</script>

<script>
  // 第二个参数为函数
  const sStr='讨论一下正则表达式中的replace的用法';
  sStr.replace(/(正则).+?(式)/,function() {
      /*
      * 参数依次是：
      * 匹配到的字符串：正则表达式
      * 从第二个参数开始，是匹配到的分组内容（"正则", "式"）
      * 倒数第二个参数索引的开始位置：4
      * 最后一个参数是原字符串
      * */
      console.log(arguments);
      // ["正则表达式", "正则", "式", 4, "讨论一下正则表达式中的replace的用法"]
  });
</script>-->
<script>
    // 第二个参数为函数（开启全局匹配）
    const sStr='讨论一下正则表达式中的replace的正则表达式的用法';
    sStr.replace(/(正则).+?(式)/g,function(...args) {
        // 全局匹配，匹配到几次函数就调用几次
        console.log(args);
        // ["正则表达式", "正则", "式", 4, "讨论一下正则表达式中的replace的用法"]
        // ["正则表达式", "正则", "式", 19, "讨论一下正则表达式中的replace的用法"]
    });
</script>
</body>
</html>